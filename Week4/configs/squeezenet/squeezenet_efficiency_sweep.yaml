project: "Week5_SqueezeNet_Efficiency"
entity: "c3-team4"
program: main.py
method: grid
metric:
  name: efficiency_score
  goal: maximize


parameters:
  model.params:
    values:
      # Yocto Absolute minimum viable model
      - stem_channels: 8
        fire_config:
          - [2, 4, 4]
          - [2, 4, 4]
          - [4, 8, 8]
          - [4, 8, 8]
        use_bypass: true
        dropout: 0.2
        experiment_name: "Efficiency_Yocto_LowDrop"
      
      - stem_channels: 8
        fire_config:
          - [2, 4, 4]
          - [2, 4, 4]
          - [4, 8, 8]
          - [4, 8, 8]
        use_bypass: true
        dropout: 0.4
        experiment_name: "Efficiency_Yocto_MidDrop"
      
      # Slightly larger yocto
      - stem_channels: 10
        fire_config:
          - [3, 5, 5]
          - [3, 5, 5]
          - [5, 10, 10]
          - [5, 10, 10]
        use_bypass: true
        dropout: 0.3
        experiment_name: "Efficiency_Yocto_Plus"
      
      # Zepto variants
      - stem_channels: 12
        fire_config:
          - [4, 6, 6]
          - [4, 6, 6]
          - [6, 12, 12]
          - [6, 12, 12]
        use_bypass: true
        dropout: 0.3
        experiment_name: "Efficiency_Zepto_4Fire"
      
      - stem_channels: 12
        fire_config:
          - [4, 6, 6]
          - [4, 6, 6]
          - [6, 12, 12]
          - [6, 12, 12]
          - [8, 16, 16]
        use_bypass: true
        dropout: 0.3
        experiment_name: "Efficiency_Zepto_5Fire"
      
      # Atto Sweet spot candidate
      - stem_channels: 16
        fire_config:
          - [4, 8, 8]
          - [4, 8, 8]
          - [8, 16, 16]
          - [8, 16, 16]
        use_bypass: true
        dropout: 0.3
        experiment_name: "Efficiency_Atto_4Fire"
      
      - stem_channels: 16
        fire_config:
          - [4, 8, 8]
          - [4, 8, 8]
          - [8, 16, 16]
          - [8, 16, 16]
          - [12, 24, 24]
        use_bypass: true
        dropout: 0.4
        experiment_name: "Efficiency_Atto_5Fire"
      
      - stem_channels: 16
        fire_config:
          - [4, 8, 8]
          - [4, 8, 8]
          - [8, 16, 16]
          - [8, 16, 16]
          - [12, 24, 24]
          - [12, 24, 24]
        use_bypass: true
        dropout: 0.4
        experiment_name: "Efficiency_Atto_6Fire"
      
      # Femto variants
      - stem_channels: 20
        fire_config:
          - [5, 10, 10]
          - [5, 10, 10]
          - [10, 20, 20]
          - [10, 20, 20]
          - [15, 30, 30]
          - [15, 30, 30]
        use_bypass: true
        dropout: 0.4
        experiment_name: "Efficiency_Femto_6Fire"
      
      - stem_channels: 24
        fire_config:
          - [6, 12, 12]
          - [6, 12, 12]
          - [12, 24, 24]
          - [12, 24, 24]
        use_bypass: true
        dropout: 0.4
        experiment_name: "Efficiency_Femto_4Fire"
      
      # Pico
      - stem_channels: 32
        fire_config:
          - [8, 16, 16]
          - [8, 16, 16]
          - [16, 32, 32]
          - [16, 32, 32]
        use_bypass: true
        dropout: 0.4
        experiment_name: "Efficiency_Pico_4Fire"
      
      - stem_channels: 32
        fire_config:
          - [8, 16, 16]
          - [8, 16, 16]
          - [16, 32, 32]
          - [16, 32, 32]
          - [24, 48, 48]
        use_bypass: true
        dropout: 0.5
        experiment_name: "Efficiency_Pico_5Fire"
      
      # More squeeze (bottleneck ratio study)
      - stem_channels: 16
        fire_config:
          - [2, 8, 8]     # Very aggressive squeeze
          - [2, 8, 8]
          - [4, 16, 16]
          - [4, 16, 16]
          - [6, 24, 24]
        use_bypass: true
        dropout: 0.4
        experiment_name: "Efficiency_AggressiveSqueeze"
      
      # Wider expand3x3 (spatial features)
      - stem_channels: 16
        fire_config:
          - [4, 4, 12]    # 16 out, more 3x3
          - [4, 4, 12]
          - [8, 8, 24]
          - [8, 8, 24]
        use_bypass: true
        dropout: 0.4
        experiment_name: "Efficiency_Wide3x3"
      
      # No bypass comparison
      - stem_channels: 16
        fire_config:
          - [4, 8, 8]
          - [4, 8, 8]
          - [8, 16, 16]
          - [8, 16, 16]
          - [12, 24, 24]
        use_bypass: false
        dropout: 0.4
        experiment_name: "Efficiency_Atto_NoBP"

  # Image size variations
  data.img_size:
    values: [64, 128]

  # Epochs
  training.epochs:
    values: [300]

  # Learning rate
  training.learning_rate:
    values: [0.001]

command:
  - ${env}
  - ${interpreter}
  - ${program}
  - "--config"
  - "configs/squeezenet/squeezenet_base.yaml"
